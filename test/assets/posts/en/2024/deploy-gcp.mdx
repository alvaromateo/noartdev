<div>
    <section id='post-intro'>
        # Deploy your NextJS app to GCP
        <PublishDate year={2024} month={9} day={20}/>
        <Tags list={['development', 'next', 'gcp', 'deploy', 'docker', 'compose', 'cloud-run']}/>
        <Summary>
            In this post I will explain how do I deploy my <Link href='https://nextjs.org/'>NextJS</Link> 
            website to <Link href='https://cloud.google.com'>Google Cloud Platform (GCP)</Link>.
            To do so I use <Link href='https://docs.docker.com/'>Docker and Docker Compose</Link>, 
            but I won't dive into these technologies in this post, so a bit of familiarity is recommended. 
        </Summary>
        <ContentTable/>
    </section>
    <section id='post-content'>

        You might be asking yourself: why is this idiot deploying a Next App to GCP instead of Vercel 
        which is more straightforward to do?

        To be honest, the first version of the website I deployed it to Vercel. But at some point I 
        realized that it didn't satisfy all the requirements I needed. For instance, 
        Vercel doesn't allow me to deploy Docker containers and I have to add one with a 
        <Link href='https://solr.apache.org/'>Solr</Link> instance to power the search functionaly.

        I could have left the application on Vercel and deployed the Solr container on GCP, but I want the 
        BE to be isolated from the FE and to have as unique entrypoint the NextJS exposed API routes. 
        Thus, the connection between the Solr instance and the NextJS BE should be as fast as possible, 
        which I can get by having the 2 containers deployed on the same Google Datacenter. 
        This also gives me room in the future to add other BE services (i.e. a database).

        So now that you know the *why* of this adventure, if you are in a similar situation (or maybe 
        you're just a curious nerd like me), carry on reading...

        ## Docker

        Having all the application contanerized lets me deploy it anywhere, in a simple way 
        and without having to install anything. As I said, I want to be able to do the deployments 
        to <Link href='https://cloud.google.com'>Google Cloud Platform (GCP)</Link> for both the webapp and 
        the Solr instance.

        You can check in this guide about <Link href=''>Configuring Solr</Link> how I did the set up of 
        the <Link href='https://docs.docker.com/'>Docker</Link> environment, using 
        <Link href='https://docs.docker.com/compose/'>Docker Compose</Link> to be able to start easily 
        all the containers needed for the application to work.

        ## GCP

        TODO
        
        ## Conclusion

        TODO...

        Until next time!

    </section>
</div>